<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>zTree</title>
    <link href="../../static/js/ztree/css/zTreeStyle/zTreeStyle.min.css" rel="stylesheet">

    <script src="../../static/js/jquery-1.9.1.min.js"></script>
    <script src="../../static/js/ztree/jquery.ztree.all-3.5.min.js"></script>
</head>
<body>
    <h3>ZTREE</h3>
    <ul id="zTreeDiv" class="ztree"></ul>

<script type="text/javascript">
     $(function(){

         // ----------------------------------------------------------
         // zTree
         function zTreeOnCheck(event, treeId, treeNode) {

             console.log(treeNode);
             console.log(treeNode.getParentNode());
             console.log(treeNode.getParentNode().getCheckStatus());
         }

         var setting = {
             check: {
                 enable: true,
                 chkboxType: { "Y" : "ps", "N" : "ps" },
                 chkStyle: "checkbox"
             },
             data: {
                 simpleData: {
                     enable: true,
                     checked: true
                 }
             },
             callback: {
                 onCheck: zTreeOnCheck
             }
         };
         var data = [
             {
                 name: "成都",
                 code: "chengdu",
                 orgLevel: 1,
                 children:[
                     {
                         name: "保代",
                         code: "baodai",
                         orgLevel: 2,
                         children: [
                             {
                                 name: "成都保代1店",
                                 code: "cdbd1",
                                 orgLevel: 3
                             },
                             {
                                 name: "成都保代2店",
                                 code: "cdbd2",
                                 orgLevel: 3
                             }
                         ]
                     },
                     {
                         name: "平台",
                         code: "pingtai",
                         orgLevel: 2
                     },
                     {
                         name: "金惠家",
                         code: "jinhuijia",
                         orgLevel: 2,
                         children: [
                             {
                                 name: "成都金惠家1店",
                                 code: "cdjhj1",
                                 orgLevel: 3
                             },
                             {
                                 name: "成都金惠家2店",
                                 code: "cdjhj2",
                                 orgLevel: 3
                             }
                         ]
                     }
                 ]
             },
             {
                 name: "重庆",
                 code: "chongqing",
                 orgLevel: 1,
                 children:[
                     {
                         name: "保代",
                         code: "baodai",
                         orgLevel: 2,
                         children: [
                             {
                                 name: "重庆保代1店",
                                 code: "cqbd1",
                                 orgLevel: 3
                             },
                             {
                                 name: "重庆保代2店",
                                 code: "cqbd2",
                                 orgLevel: 3
                             }
                         ]
                     },
                     {
                         name: "金惠家",
                         code: "jinhuijia",
                         orgLevel: 2,
                         children: [
                             {
                                 name: "重庆金惠家1店",
                                 code: "cqjhj1",
                                 orgLevel: 3
                             },
                             {
                                 name: "重庆金惠家2店",
                                 code: "cqjhj2",
                                 orgLevel: 3
                             }
                         ]
                     },
                     {
                         name: "平台",
                         code: "pingtai",
                         orgLevel: 2
                     }
                 ]
             }
         ];
         $.fn.zTree.init($("#zTreeDiv"), setting, data);
    });
</script>
</body>
</html>